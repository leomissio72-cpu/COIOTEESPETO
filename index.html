<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <!-- ========== ESSENTIALS ========== -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    
    <!-- ========== SEO & META TAGS ========== -->
    <title>Coiote BBQ - Sistema de Gestão de Restaurante</title>
    <meta name="title" content="Coiote BBQ - Sistema de Gestão de Restaurante" />
    <meta name="description" content="Sistema profissional de gestão para restaurantes com suporte a múltiplas formas de pagamento, relatórios avançados, auditoria e analytics." />
    <meta name="keywords" content="restaurante, gestão, churrascaria, sistema POS, pedidos, pagamentos, relatórios, auditoria" />
    <meta name="author" content="Coiote BBQ" />
    <meta name="copyright" content="© 2025 Coiote BBQ. Todos os direitos reservados." />
    <meta name="language" content="Portuguese" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="revisit-after" content="7 days" />
    
    <!-- ========== OPEN GRAPH (Facebook, LinkedIn) ========== -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://coiote-bbq.com" />
    <meta property="og:title" content="Coiote BBQ - Sistema de Gestão de Restaurante" />
    <meta property="og:description" content="Sistema profissional de gestão para restaurantes com suporte a múltiplas formas de pagamento, relatórios avançados, auditoria e analytics." />
    <meta property="og:image" content="/icon.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Coiote BBQ" />
    <meta property="og:locale" content="pt_BR" />
    
    <!-- ========== TWITTER CARD ========== -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@replit" />
    <meta name="twitter:creator" content="@coiotabbq" />
    <meta name="twitter:title" content="Coiote BBQ - Sistema de Gestão de Restaurante" />
    <meta name="twitter:description" content="Sistema profissional de gestão para restaurantes com suporte a múltiplas formas de pagamento, relatórios avançados, auditoria e analytics." />
    <meta name="twitter:image" content="/icon.png" />
    <meta name="twitter:domain" content="coiote-bbq.com" />
    
    <!-- ========== APP CHROME & MOBILE ========== -->
    <meta name="theme-color" content="#000000" />
    <meta name="msapplication-TileColor" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Coiote BBQ" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    
    <!-- ========== LINKS & ICONS ========== -->
    <link rel="canonical" href="https://coiote-bbq.com" />
    <link rel="icon" type="image/png" href="/favicon.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/icon.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="/icon.png" sizes="180x180" />
    <link rel="apple-touch-startup-image" href="/icon.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- ========== FONTS (Google Fonts) ========== -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    
    <!-- ========== PRELOAD CRITICAL RESOURCES ========== -->
    <link rel="preload" href="/src/main.tsx" as="script" type="module" />
    
    <!-- ========== DNS PREFETCH ========== -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    
    <!-- ========== CSS VARIABLES & STYLES ========== -->
    <style>
      :root {
        --color-primary: #000000;
        --color-secondary: #ff6b00;
        --color-background: #ffffff;
        --color-foreground: #000000;
        --color-border: #e5e5e5;
        --color-success: #22c55e;
        --color-warning: #f59e0b;
        --color-error: #ef4444;
        --font-heading: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
        --font-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      @media (prefers-color-scheme: dark) {
        :root {
          --color-background: #0a0a0a;
          --color-foreground: #ffffff;
          --color-border: #2a2a2a;
        }
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      body {
        font-family: var(--font-body);
        background-color: var(--color-background);
        color: var(--color-foreground);
        line-height: 1.6;
        letter-spacing: 0.5px;
        overflow-x: hidden;
      }

      #root {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* ========== LOADING STATE ========== */
      .loading-container {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background: linear-gradient(135deg, var(--color-background) 0%, var(--color-background) 100%);
        flex-direction: column;
        gap: 20px;
      }

      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 4px solid var(--color-border);
        border-top-color: var(--color-primary);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
      }

      @keyframes spin {
        to { transform: rotate(360deg); }
      }

      .loading-text {
        font-family: var(--font-heading);
        font-size: 16px;
        color: var(--color-foreground);
        font-weight: 500;
        opacity: 0.7;
      }

      .loading-pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }

      /* ========== ACCESSIBILITY ========== */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      /* ========== FOCUS VISIBLE ========== */
      *:focus-visible {
        outline: 2px solid var(--color-primary);
        outline-offset: 2px;
      }

      /* ========== PRINT STYLES ========== */
      @media print {
        body {
          background: white;
          color: black;
        }
      }

      /* ========== RESPONSIVE ========== */
      @media (max-width: 640px) {
        html {
          font-size: 14px;
        }
      }

      @media (max-width: 1024px) {
        html {
          font-size: 15px;
        }
      }

      /* ========== PREFERS REDUCED MOTION ========== */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>

    <!-- ========== ANALYTICS (Optional - Uncomment to enable) ========== -->
    <!-- 
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    -->

    <!-- ========== STRUCTURED DATA (JSON-LD) ========== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Coiote BBQ",
      "image": "/icon.png",
      "description": "Sistema de gestão para restaurantes",
      "url": "https://coiote-bbq.com",
      "telephone": "+55-11-9999-9999",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Rua do Restaurante, 123",
        "addressLocality": "São Paulo",
        "postalCode": "01234-567",
        "addressCountry": "BR"
      },
      "priceRange": "$$",
      "sameAs": [
        "https://www.facebook.com/coiotabbq",
        "https://www.instagram.com/coiotabbq",
        "https://www.twitter.com/coiotabbq"
      ]
    }
    </script>
  </head>
  <body>
    <!-- ========== ROOT ELEMENT ========== -->
    <div id="root">
      <!-- Loading state shown until React mounts -->
      <div class="loading-container" id="loading-state" style="display: flex;">
        <div class="loading-spinner"></div>
        <p class="loading-text loading-pulse">Carregando Coiote BBQ...</p>
      </div>
    </div>

    <!-- ========== ACCESSIBILITY HELPERS ========== -->
    <span class="sr-only">Skip to main content</span>

    <!-- ========== REACT APPLICATION ENTRY POINT ========== -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- ========== INITIALIZATION SCRIPT ========== -->
    <script>
      // Detect theme preference
      (function() {
        const darkModePreference = window.matchMedia('(prefers-color-scheme: dark)');
        const storedTheme = localStorage.getItem('theme');
        
        const applyTheme = (isDark) => {
          document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';
        };

        if (storedTheme) {
          applyTheme(storedTheme === 'dark');
        } else {
          applyTheme(darkModePreference.matches);
        }

        // Listen for system theme changes
        darkModePreference.addEventListener('change', (e) => {
          if (!localStorage.getItem('theme')) {
            applyTheme(e.matches);
          }
        });
      })();

      // Hide loading state when React mounts
      const originalError = console.error;
      let hasError = false;
      
      console.error = function(...args) {
        hasError = true;
        originalError.apply(console, args);
      };

      // Set timeout to hide loading after 5 seconds (fallback)
      const loadingTimeout = setTimeout(() => {
        const loadingState = document.getElementById('loading-state');
        if (loadingState) {
          loadingState.style.display = 'none';
        }
      }, 5000);

      // Observe DOM changes to detect when React mounts
      const observer = new MutationObserver((mutations) => {
        const loadingState = document.getElementById('loading-state');
        if (loadingState && document.querySelector('[data-testid], main, nav, .dashboard')) {
          loadingState.style.display = 'none';
          clearTimeout(loadingTimeout);
          observer.disconnect();
        }
      });

      observer.observe(document.getElementById('root'), {
        childList: true,
        subtree: true,
      });

      // Performance monitoring
      if (window.performance && window.performance.timing) {
        window.addEventListener('load', () => {
          const perfData = window.performance.timing;
          const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
          console.log(`Page load time: ${pageLoadTime}ms`);
        });
      }

      // Service Worker registration (PWA support)
      if ('serviceWorker' in navigator && process.env.NODE_ENV === 'production') {
        navigator.serviceWorker.register('/sw.js').catch(err => {
          console.log('Service Worker registration failed:', err);
        });
      }

      // Check for required browser features
      const requiredFeatures = ['localStorage', 'sessionStorage', 'indexedDB'];
      requiredFeatures.forEach(feature => {
        if (typeof window[feature] === 'undefined') {
          console.warn(`${feature} is not available`);
        }
      });

      // Global error handler
      window.addEventListener('error', (event) => {
        console.error('Uncaught error:', event.error);
      });

      // Unhandled promise rejection handler
      window.addEventListener('unhandledrejection', (event) => {
        console.error('Unhandled promise rejection:', event.reason);
      });
    </script>

    <!-- ========== MANIFEST REFERENCE ========== -->
    <!-- Note: Create /public/manifest.json for PWA support -->
  </body>
</html>
